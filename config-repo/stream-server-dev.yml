spring:
  cloud:
    bus:
      trace:
        enabled: true
      enabled: true
    #和重试机制相关的配置有如下四个：
    retry:
      # 配置重试次数，默认为6
      max-attempts: 6
      # 间隔乘数，默认1.1
      multiplier: 1.1
      # 初始重试间隔时间，默认1000ms
      initial-interval: 1000
      # 最大间隔时间，默认2000ms
      max-interval: 2000
    stream:
      bindings:
        myInput:
          #指定输入通道对应的主题名
          destination: minestream
          #指定该应用实例属于 stream 消费组
          group: stream
          # -- 分区
          consumer:
            #通过该参数开启消费者分区功能
            partitioned: true
        myOutput:
          destination: minestream
          producer:
            #通过该参数指定了分区键的表达式规则，可以根据实际的输出消息规则配置 SpEL 来生成合适的分区键
            partitionKeyExpression: payload
            partitionCount: 2
      #该参数指定了当前消费者的总实例数量
      instance-count: 2
      #该参数设置了当前实例的索引号，从 0 开始，最大值为 spring.cloud.stream.instance-count 参数 - 1
      instance-index: 0

  # Rabbitmq 配置
  rabbitmq:
    host: 115.29.221.237
    port: 5672
    username: admin
    password: 123456

# -- 注册中心配置
eureka:
  instance:
    prefer-ip-address: true
    status-page-url-path: /actuator/info
    health-check-url-path: /actuator/health
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: http://localhost:50000/eureka/


management:
  security:
    enabled: false
  endpoints:
    web:
      exposure:
        include: bus-refresh